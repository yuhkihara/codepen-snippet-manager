# コード監査スキル

**スキル名**: `audit`

## 概要

コードベース全体を包括的に監査し、セキュリティ、パフォーマンス、コード品質、ベストプラクティスの問題を検出して監査レポートを生成します。

## 使用タイミング

1. **仕様書作成直後**: 新規仕様書を作成したら監査レビューを実施
2. **実装完了後**: 各フェーズまたは機能実装が完了したら監査レビューを実施
3. **大きな変更後**: アーキテクチャや設計の大幅な変更後に実施

## 監査プロセス

### ステップ1: 包括的なコードレビュー監査

**重要**: 自ら包括的かつ徹底的にコードベース全体を監査する。

使用ツール:
- Read
- Grep
- Glob

#### 監査対象

- すべての実装コード（components/, lib/, hooks/, store/, app/）
- すべての設定ファイル（next.config.js, middleware.ts等）
- すべての型定義（types/）

#### レビュー観点

**1. コードの品質と可読性**
- 命名規則の一貫性
- コメントとドキュメント
- コードの重複排除

**2. セキュリティの問題**
- XSS、CSRF、インジェクション攻撃対策
- 認証・認可の適切な実装
- 機密情報の漏洩防止

**3. パフォーマンスの改善点**
- 不要な再レンダリング
- データベースクエリの最適化
- バンドルサイズ

**4. ベストプラクティスの遵守**
- React/Next.jsのベストプラクティス
- TypeScript型安全性
- アクセシビリティ（WCAG 2.1 AA）

### ステップ2: 監査レポートの作成

**保存場所**: `docs/audits/audit_review_YYYYMMDD.md`

```markdown
# コードレビュー監査レポート

**日付**: YYYY-MM-DD
**対象**: [ファイル名または機能名]
**レビュアー**: Claude Code

## 1. コードの品質と可読性
[問題点と改善案]

## 2. セキュリティの問題
[問題点と改善案]

## 3. パフォーマンスの改善点
[問題点と改善案]

## 4. ベストプラクティスの遵守
[問題点と改善案]

## 必須修正項目
[優先度別の問題リスト]
```

### ステップ3: 問題の修正

優先度に基づいて修正:
1. 🔴 最高優先度: 即座に修正
2. 🟠 高優先度: 計画的に修正
3. 🟡 中優先度: 検討して修正
4. 🟢 低優先度: 記録（将来の改善）

### ステップ4: 再監査

修正完了後、再び監査を実施して確認。

## 監査チェックリスト

- [ ] 最新の監査レポート (`docs/audits`) を確認した
- [ ] 🔴 最高優先度の問題をすべて修正した
- [ ] 🟠 高優先度の問題を修正または計画した
- [ ] セキュリティ問題が残っていないことを確認した
- [ ] 必要に応じて新しい監査レポートを作成した

## 使用例

```bash
/audit
/audit components/
/audit security
```

## 関連ドキュメント

- [CLAUDE.md](../../CLAUDE.md)
- [docs/codepen_html.md](../../docs/codepen_html.md)
- [docs/IMPLEMENTATION_STATUS.md](../../docs/IMPLEMENTATION_STATUS.md)
- [docs/audits/](../../docs/audits/)
